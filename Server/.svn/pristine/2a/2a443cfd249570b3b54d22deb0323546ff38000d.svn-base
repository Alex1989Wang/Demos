// 定义

HTTP请求中必须包含的header
X-Appid: appid 100001

// 房间用户基本信息
room_user_info = { 
                    device_token:设备token
                    uid:用户uid，如果是登录用户则此字段有效
                    nick:用户昵称
                    logo_url:用户头像地址
                    sex:性别，1为女性，2为男性
                    living_status:开播信息,0为无直播，1为准备中，2为直播中
                 }

// 房间基本信息
room_info =     {
                    name:房间名称(string)
                    type:房间类型(int)
                    province_id:省份ID
                    city_id:城市ID
                    owner_uid:房主的uid
                    lock_status:是否已经上锁(0未上锁, 1上锁)
                    logo_url:房间logo的地址
                    presenter:room_user_info, 主持人信息
                 } 

// 房间队列信息
room_queue_info = {
                     fowle_user_infos = [room_user_info,...]        // 女嘉宾用户列表
                     male_user_infos = [room_user_info,...]         // 男嘉宾用户列表
                  }

// 创建房间
/rooms 
方法:             POST
参数:             room_info_item
                 HTTP请求的header中必须包含以下字段
                 X-App-Token: 逻辑token
                 X-App-Uid: 逻辑uid
返回:             {
                    code:错误代码
                    msg:错误消息
                    room_id:新创建的房间ID
                 }

// 获取房间信息
/rooms/:room_id 
方法:             GET
参数:             :room_id   房间ID
返回:             {
                    code:xx
                    msg:xx 
                    info:room_info_item 
                 }

// 修改房间信息
/rooms/:room_id 
方法:             PATCH
参数:             :room_id   房间ID 
                 room_info_item   房间信息， 要修改的字段可以只选其中一个或几个, 不能修改的字段为
                 name, owner_uid 
                 HTTP请求的header中必须包含以下字段
                 X-App-Token: 逻辑token
                 X-App-Uid: 逻辑uid
返回:             {
                     code:xx 
                     msg:xx 
                 }

// 进入房间(该接口，可以重复调用，用来更新当前用户的房间的状态)
/rooms/:room_id/users
方法:             PUT 
参数:             :room_id  房间id
                 header中必须包含以下字段:
                 X-Device-Token: 设备token 06037d7ccab
                 如果是登陆用户则必须包含以下字段:
                 X-App-Token:逻辑token
                 X-App-Uid:逻辑uid
返回:             {
                     code:xx 
                     msg:xx 
                     kicked_remain_secs:如果code为HTTP_EC_ROOM_KICKED, 则此值为踢状态在当前房间还剩余多少秒才解禁
                 }

// 退出房间
/rooms/:room_id/users 
方法:             DELETE
参数:             :room_id房间id
                 header中必须包含以下字段:
                 X-Device-Token: 设备token 06037d7ccab
                 如果是登陆用户则必须包含以下字段:
                 X-App-Token:逻辑token
                 X-App-Uid:逻辑uid
返回:             {
                      code:xx 
                      msg:xx 
                  }

// 获取当前房间的用户列表
/rooms/:room_id/users[?offset=xx&count=xx]
方法:             GET 
参数:             :room_id房间id
                 []参数可选，offset用来分页显示， 如果指定count则最多拉取count个用户， 如果都没指定则拉取全部
返回:             {
                     code:xx
                     msg:xx 
                     infos:[room_user_info, ...]
                 }

// 成为主持人
/rooms/:room_id/presenter 
方法:             POST 
参数:             :room_id房间id 
                 HTTP请求的header中必须包含以下字段 
                 X-App-Token:逻辑token
                 X-App-Uid 逻辑uid 
返回:             {
                     code:xx 
                     msg:xx 
                 }

// 退出主持
/rooms/:room_id/presenter 
方法:             DELETE 
参数:             :room_id房间id 
                 HTTP请求的header中必须包含以下字段 
                 X-App-Token:逻辑token
                 X-App-Uid 逻辑uid 
返回:             {
                     code:xx 
                     msg:xx 
                  }

// 设置自己的直播状态
/rooms/:room_id/user_status?type=1
方法:             POST 
参数:             :room_id 房间id 
                 {status:0为未直播， 1为准备中， 2为直播中}
                 HTTP请求的header中必须包含以下字段 
                 X-App-Token:逻辑token
                 X-App-Uid 逻辑uid 
返回:             {
                     code:xx 
                     msg:xx 
                  }
                
// 将一个用户踢出房间
/rooms/:room_id/user_status/[:uid或:device_token]?type=2
方法:             PATCH 
参数:             :room_id 房间id 
                 如果是登录用户则使用:uid参数
                 如果是非登录用户则使用:device_token参数
                 HTTP请求的header中必须包含以下字段 
                 X-App-Token:逻辑token
                 X-App-Uid 逻辑uid 
返回:             {
                     code:xx 
                     msg:xx 
                 }

// 将一个用户禁言
/rooms/:room_id/user_status/:uid?type=3
方法:             PATCH 
参数:             :room_id 房间id 
                 :uid 用户id
                 HTTP请求的header中必须包含以下字段 
                 X-App-Token:逻辑token
                 X-App-Uid 逻辑uid 
返回:             {
                     code:xx 
                     msg:xx 
                  }

// 将一个用户解除禁言
/rooms/:room_id/user_status/:uid?type=4
方法：             PATCH 
参数:             :room_id 房间id
                 :uid 用户id
                 HTTP请求的header中必须包含以下字段 
                 X-App-Token:逻辑token
                 X-App-Uid 逻辑uid 
返回:             {
                     code:xx 
                     msg:xx 
                 }

// 加入房间的嘉宾队列
/rooms/:room_id/queue
方法:             POST 
参数:             :room_id 房间id 
                 HTTP请求的header中必须包含以下字段
                 X-App-Token:逻辑token 
                 X-App-Uid:逻辑uid
返回:             {
                    code:xx 
                    msg:xx 
                 }

// 获取房间队列信息
/rooms/:room_id/queue 
方法:             GET 
参数:             :room_id 房间id 
返回:             {
                    code:xx 
                    msg:xx 
                    info:room_queue_info
                 }

// 将指定的人加入到嘉宾队列或者修改一个人在队列中的顺序
/rooms/:room_id/queue
方法:             PUT 
参数:             :room_id 房间id 
                 {uid:要加入队列的用户id, pos:指定在队列中的顺序, 从1开始, 如果没指定则默认加入到队列末尾}
                 HTTP请求的header中必须包含以下字段
                 X-App-Token:逻辑token 
                 X-App-Uid:逻辑uid
返回:             {
                    code:xx 
                    msg:xx 
                    pos:新加入用户在队列中的位置
                 }

// 将队列中指定的人移除
/rooms/:room_id/queue/:uid 
方法:             DELETE 
参数:             :room_id 房间id 
                 :uid 要移除队列的用户id
                 HTTP请求的header中必须包含以下字段
                 X-App-Token:逻辑token
                 X-App-Uid:逻辑uid
返回:             {
                     code:xx 
                     msg:xx 
                 }



--------------------------------------------------------------------------------------
以下为和房间相关的push通知消息， push消息为json格式，没个消息必包涵category, type两个字段,
category为消息类别， 房间的消息类别为"room", type为消息类型
--------------------------------------------------------------------------------------
// 用户进入房间通知
{category:"room", type:1, uinfo:room_user_info}

// 用户退出房间通知
{category:"room", type:2, uinfo:room_user_info}

// 主持人变更通知
{category:"room", type:3, uinfo:room_user_info}

// 用户被踢出通知
{category:"room", type:4, uinfo:room_user_info}

// 用户被禁言通知
{category:"room", type:5, uinfo:room_user_info}

// 用户被解除禁言通知
{category:"room", type:6, uinfo:room_user_info}

// 用户加入嘉宾队列通知
{category:"room", type:7, uinfo:room_user_info, pos:队列中的位置}

// 用户被移除嘉宾队列通知
{category:"room", type:8, uinfo:room_user_info}

// 用户在嘉宾队列位置变化通知
{category:"room", type:9, uinfo:room_user_info, pos:队列中的位置}

// 用户的信息发生变化通知
{category:"room", type:10, uinfo:room_user_info}
